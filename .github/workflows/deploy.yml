on: 
  push:
    branches:
      - main
name: Deploy Flutter Web App
jobs:
  web-deploy:
    name: ðŸŽ‰ Deploy
    runs-on: ubuntu-latest
    steps:

    - name: ðŸšš Get latest code
      uses: actions/checkout@v4
      
    - name: ðŸ“¡ Test FTP Connection
      run: |
            lftp -u u941582685,Coder1632001@ -e "ls" ftp.awfar-offers.com
            
    - name: ðŸ“‚ Sync files
      uses: SamKirkland/FTP-Deploy-Action@v4.3.5
      with:
        server: ftp.awfar-offers.com
        username:  u941582685
        password:  Coder1632001@
        port: 21  
        protocol: "ftp" 
        server-dir: domains/awfar-offers.com/public_html/awfer_offers_dash
        local-dir: ./assets 
  
    
# on:
#   push:
#     branches:
#       - main

# jobs:
#   build-and-deploy:
#     runs-on: ubuntu-latest
#     steps:
    # - name: Check out code
    #   uses: actions/checkout@v2

    # - name: Set up Flutter
    #   uses: subosito/flutter-action@v2
    #   with:
    #     flutter-version: '3.0.0'  # Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
    #     channel: stable
    #     architecture: x64
    #     cache: false
    #     pub-cache-path: default
    #     dry-run: false

    # - name: Upgrade Flutter
    #   run: flutter upgrade

    # - name: Install dependencies
    #   run: flutter pub get

    # - name: Run tests
    #   run: flutter test

    # - name: Clean build
    #   run: flutter clean

    # - name: Build web
    #   run: flutter build web

    # - name: Install lftp
    #   run: sudo apt-get install -y lftp

    # - name: Upload to Hostinger
    #   env:
    #     HOSTINGER_USERNAME: ${{ secrets.HOSTINGER_USERNAME }}
    #     HOSTINGER_PASSWORD: ${{ secrets.HOSTINGER_PASSWORD }}
    #   run: |
    #     lftp -f "
    #     set ftp:ssl-verify off
    #     set ftp:passive-mode on  
    #     open -u $HOSTINGER_USERNAME,$HOSTINGER_PASSWORD https://awfar-offers.com/
    #     mkdir /awfer_offers_dash 
    #     bye
    #     "
